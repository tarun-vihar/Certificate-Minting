<div class="container">
  <div class="verify-certificate">
    <h1 class="text-center"> Verify Certificate</h1>
    <form [formGroup]="certificateDetailsForm" (ngSubmit)="verifyCertificate()">
      <div class="mb-3">
        <label for="student-id" class="form-label"
          >Student Id <sup>*</sup></label
        >
        <input
          type="text"
          formControlName="studentId"
          class="form-control"
          id="student-id"
          placeholder="Student Id"
          [class.invalid]="isInvalidControl('studentId')"
        />
        <div *ngIf="isInvalidControl('studentId') && errorMessages['studentId'].length > 0">
          <small class="text-danger" *ngFor="let errMessage of errorMessages['studentId']">{{errMessage}}</small>   
        </div>
      </div>
      <div class="mb-3">
        <label for="certificate-id" class="form-label"
          >Certificate Id <sup>*</sup></label
        >
        <input
          type="text"
          formControlName="certificateId"
          class="form-control"
          id="certificate-id"
          placeholder="Certificate Id"
          [class.invalid]="isInvalidControl('certificateId')"
        />
        <div *ngIf="isInvalidControl('certificateId') && errorMessages['certificateId'].length > 0">
          <small class="text-danger" *ngFor="let errMessage of errorMessages['certificateId']">{{errMessage}}</small>   
        </div>
      </div>
      
      <div class="mb-3">
        <label for="student-wallet-address" class="form-label"
          >Student Wallet Address</label
        >
        <input
          type="text"
          formControlName="studentWalletAddress"
          class="form-control"
          id="student-wallet-address"
          placeholder="Student Wallet Address"
          [class.invalid]="isInvalidControl('studentWalletAddress')"
        />
        <div *ngIf="isInvalidControl('studentWalletAddress') && errorMessages['studentWalletAddress'].length > 0">
          <small class="text-danger" *ngFor="let errMessage of errorMessages['studentWalletAddress']">{{errMessage}}</small>   
        </div>
      </div>
      
      <div class="university-name-dropdown mb-3">
        <label for="university-name" class="form-label"
          >University Name <sup>*</sup></label
        >
        <mat-form-field id="university-name"  class="w-100" appearance="outline">
          <mat-select formControlName="universityName" placeholder="Select University">
            <mat-option>
              <ngx-mat-select-search [formControl]="universityFilterCtrl" placeholderLabel="Find University..."
              noEntriesFoundLabel="'no matching university found'"
              ></ngx-mat-select-search>
            </mat-option>
      
            <mat-option *ngFor="let university of filteredUniversities | async" [value]="university">
              {{university.universityName}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div *ngIf="isInvalidControl('universityName') && errorMessages['universityName'].length > 0">
          <small class="text-danger" *ngFor="let errMessage of errorMessages['universityName']">{{errMessage}}</small>   
        </div>
      </div>
      <div class="d-flex justify-content-center">
        <button type="submit" [disabled]="!certificateDetailsForm.valid" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
</div>